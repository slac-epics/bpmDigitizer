ifdef T_A
ifeq ($(findstring Host,$(VALID_BUILDS)),Host)

INSTALL_EDM		:= $(shell readlink -f $(INSTALL_LIB)/../../templates/edm )
INSTALL_EDM_LIB	:= $(shell readlink -f $(INSTALL_LIB) )
EDM_CMD			:= EDMOBJECTS=$(INSTALL_EDM) EDMPVOBJECTS=$(INSTALL_EDM) EDMLIBS=$(INSTALL_EDM_LIB) $(INSTALL_BIN)/edm$(EXE)

# buildInstall: dumpEnv

dumpEnv:
	@echo INSTALL_LIB=$(INSTALL_LIB)
	@echo INSTALL_EDM=$(INSTALL_EDM)
	@echo INSTALL_EDM_LIB=$(INSTALL_EDM_LIB)
	@echo INSTALL_SHRLIB=$(INSTALL_SHRLIB)
#	@echo EDMLIBS=$(EDMLIBS)
#	@echo EDMOBJECTS=$(EDMOBJECTS)

ifneq (,$(strip $(INSTALL_EDM_LIB)))
ifneq (,$(strip $(SHRLIBNAME)))
$(INSTALL_EDM)/edmObjects: $(INSTALL_EDM_LIB)/$(SHRLIBNAME)
else
$(INSTALL_EDM)/edmObjects: $(INSTALL_EDM_LIB)/$(LIBNAME)
endif # SHRLIBNAME
	@echo "Installing edmObjects for $(<F)"
	@echo INSTALL_EDM=$(INSTALL_EDM)
	@echo EDMOBJECTS=$(EDMOBJECTS)
	$(EDM_CMD) -add $<
	sed -i -e 's^$(INSTALL_EDM_LIB)^$$\(EDMLIBS\)^' $(INSTALL_EDM)/edmObjects
endif # INSTALL_EDM_LIB
#	EDMOBJECTS=$(INSTALL_EDM) EDMPVOBJECTS=$(INSTALL_EDM) EDMLIBS=$(INSTALL_EDM_LIB) $(INSTALL_BIN)/edm$(EXE) -add $<

ifneq (,$(strip $(INSTALL_EDM_LIB)))
ifneq (,$(strip $(SHRLIBNAME)))
$(INSTALL_EDM)/edmPvObjects: $(INSTALL_EDM_LIB)/$(SHRLIBNAME)
else
$(INSTALL_EDM)/edmPvObjects: $(INSTALL_EDM_LIB)/$(LIBNAME)
endif # SHRLIBNAME
	@echo "Installing edmPvObjects for $(<F)"
	$(EDM_CMD) -addpv $<
	sed -i -e 's^$(INSTALL_EDM_LIB)^$$\(EDMLIBS\)^' $(INSTALL_EDM)/edmPvObjects
endif # INSTALL_EDM_LIB
#	EDMOBJECTS=$(INSTALL_EDM) EDMPVOBJECTS=$(INSTALL_EDM) EDMLIBS=$(INSTALL_EDM_LIB) $(INSTALL_BIN)/edm$(EXE) -addpv $<

endif
endif
